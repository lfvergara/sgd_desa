<!-- Chart.js -->
<script src="{theme_path}/js/Chart.js"></script>
<div class="container">
	<div class="starter-template">
		<div class="page-header"><h1>{titulo}</h1></div>
		<div class="row">
      <div class="col-md-7" style="padding-left: 0px;">
				<div class="panel panel-success">
					<div class="panel-heading">
						<h4>Descargar seguimientos por fecha</h4>
					</div>
					<div class="panel-body">
						<form class="form-horizontal" name="datos" method="post" action="/{app_name}/archivos/reporte_seguimientos_fecha">
							<div class="form-group">
							  <label for="fecha" class="col-lg-1 control-label">Desde</label>
								<div class="col-lg-4">
									<input type="date" class="form-control" name="desde" id="desde" required="" />
								</div>
                <label for="fecha" class="col-lg-1 control-label">Hasta</label>
								<div class="col-lg-4">
									<input type="date" class="form-control" name="hasta" id="hasta" required="" />
								</div>
                <div class="col-lg-2">
									<button type="submit" class="btn btn-primary">Descargar</button>
								</div>
							</div>
						</form>
					</div>
				</div>
				<div class="panel panel-success">
					<div class="panel-heading">
						<h4>Reporte por estado y fecha</h4>
					</div>
					<div class="panel-body">
						<form class="form-horizontal" name="datos" method="post" action="/{app_name}/archivos/reportes">
							<div class="form-group">
							  <label for="fecha" class="col-lg-1 control-label">Estado</label>
								<div class="col-lg-9">
									<select name="estado_id" id="estado_id" class="form-control" required aria-required="true">
										<option value="">--Seleccionar--</option>
										{slt_estado}
									</select>
								</div>
							</div>
              <div class="form-group">
							  <label for="fecha" class="col-lg-1 control-label">Desde</label>
								<div class="col-lg-4">
									<input type="date" class="form-control" name="desde" id="desde" required="" />
								</div>
                <label for="fecha" class="col-lg-1 control-label">Hasta</label>
								<div class="col-lg-4">
									<input type="date" class="form-control" name="hasta" id="hasta" required="" />
								</div>                
                <div class="col-lg-2">
                  <input type="hidden" name="tipo_reporte" value="2">
									<button type="submit" class="btn btn-primary">Buscar</button>
								</div>
							</div>
						</form>
					</div>
				</div>
        <div class="panel panel-success">
					<div class="panel-heading">
						<h4>Reporte por estado</h4>
					</div>
					<div class="panel-body">
						<form class="form-horizontal" name="datos" method="post" action="/{app_name}/archivos/reportes">
							<div class="form-group">
							  <label for="fecha" class="col-lg-1 control-label">Estado</label>
								<div class="col-lg-9">
									<select name="estado_id" id="estado_id" class="form-control" required aria-required="true">
										<option value="">--Seleccionar--</option>
										{slt_estado}
									</select>
								</div>
                <div class="col-lg-2">
                  <input type="hidden" name="tipo_reporte" value="1">
									<button type="submit" class="btn btn-primary">Buscar</button>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
			<div class="col-md-5" style="padding-right: 0px;">
        <div class="panel panel-success">
					<div class="panel-heading">
						<h4>Estadísticas por estado</h4>
					</div>
					<div class="panel-body">
				    <div class="col-lg-12" style="padding-left: 0px;">
              <form class="form-horizontal" name="datos" method="post" action="/{app_name}/archivos/reportes_grafico">
                <div class="form-group">
                  <label for="fecha" class="col-lg-1 control-label">Desde</label>
                  <div class="col-lg-4">
                    <input type="date" class="form-control" name="graph_desde" id="graph_desde" required="" />
                  </div>
                  <label for="fecha" class="col-lg-1 control-label">Hasta</label>
                  <div class="col-lg-4">
                    <input type="date" class="form-control" name="graph_hasta" id="graph_hasta" required="" />
                  </div>                
                  <div class="col-lg-2">
                    <input type="hidden" name="tipo_reporte" value="2">
                    <button type="submit" class="btn btn-primary">Buscar</button>
                  </div>
                </div>
              </form>
					  </div>
				    <div class="col-lg-7" style="padding-left: 0px;">
              <div class="panel panel-info">
                <div class="panel-body">
                  <div id="canvas-holder">
                    <center><canvas id="chartPieID" width="250" height="250"></canvas></center>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-5" style="padding-right: 0px; padding-left: 0px;">          
              <div class="bs-component">
                <ul class="list-group">
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    Pend. Ingreso
                    <span class="badge badge-primary badge-pill">{pend_ingreso}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    Pend. Revisión
                    <span class="badge badge-primary badge-pill">{pend_revision}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    En Revisión
                    <span class="badge badge-primary badge-pill">{revision}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    Observados
                    <span class="badge badge-primary badge-pill">{observados}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    Corregidos
                    <span class="badge badge-primary badge-pill">{corregidos}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    Aceptados
                    <span class="badge badge-primary badge-pill">{aceptados}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    Rechazados
                    <span class="badge badge-primary badge-pill">{rechazados}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    Legalizados
                    <span class="badge badge-primary badge-pill">{legalizados}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    Validados
                    <span class="badge badge-primary badge-pill">{validados}</span>
                  </li>
                </ul>
              </div>
            </div>	
					</div>
				</div>        
		</div>
		<div class="row">
			<div class="col-md-12">
				<div class="panel panel-info">
					<div class="panel-heading">
						<h4>Resultado de la búsqueda</h4>
            <div class="pull-right" style="margin-top: -30px; display: {btn_display};">
              <button class="btn btn-warning btn-xs" onclick="location.href='/{app_name}/archivos/exportar/{estado_id}'"><i class="fa fa-file-excel-o"></i> Exportar</button>
            </div>
					</div>
					<div class="panel-body">
						<table id="tabla" class="table table-striped table-hover ">
							<thead>
								<tr>
									<th>#</th>
									<th>Denominación</th>
									<th>Documento</th>
									<th>Matrícula</th>
									<th>Estado</th>
									<th>Fecha</th>
									<th>Autorizador</th>
									<th>Comentario</th>
								</tr>
							</thead>
							<tbody>
								<!--repetir-->
								<tr>
									<td>{archivo_id}</td>
									<td>{nombre}</td>
									<td>{documento}</td>
									<td>{matricula}</td>
									<td>{estado}</td>
									<td>{fecha}</td>
									<td>{autorizador}</td>
									<td>{comentario}</td>
								</tr>
								<!--repetir-->
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<script>
  var pieDataID = [
    {
      value: {pend_ingreso},
      color:"#ef82be",
      highlight: "#bb6695",
      label: "Pend. Ingreso"
    },
    {
      value: {pend_revision},
      color:"#44869a",
      highlight: "#204854",
      label: "Pend. Revisión"
    },
    {
      value: {revision},
      color:"#673dde",
      highlight: "#2d1279",
      label: "En Revisión"
    },
    {
      value: {observados},
      color:"#7fd2dc",
      highlight: "#4597a0",
      label: "Observados"
    },
    {
      value: {corregidos},
      color:"#f7b63b",
      highlight: "#a7761a",
      label: "Corregidos"
    },
    {
      value: {aceptados},
      color:"#9e9e96",
      highlight: "#6d6d5e",
      label: "Aceptados"
    },
    {
      value: {rechazados},
      color:"#fbe3c7",
      highlight: "#d0b79b",
      label: "Rechazados"
    },
    {
      value: {legalizados},
      color:"#a63730",
      highlight: "#71211c",
      label: "Legalizados"
    },
    {
      value: {validados},
      color:"#edff7d",
      highlight: "#a2b148",
      label: "Validados"
    },
  ];
  var ctx = document.getElementById("chartPieID").getContext("2d");
  window.myPie = new Chart(ctx).Pie(pieDataID);	
</script>
<script type="text/javascript" charset="utf-8">
    $(document).ready(function() {
      $('#tabla').DataTable( {
				 "aaSorting": [[ 3, "desc" ]],
         "iDisplayLength":10,
          "language": {
            "decimal":        ".",
            "emptyTable":     "No hay datos disponibles",
            "info":           "Mostrando _START_ al _END_ de _TOTAL_ registros",
            "infoEmpty":      "Mostrando 0 al 0 de 0 registros",
            "infoFiltered":   "(filtrados de _MAX_ registros totales)",
            "infoPostFix":    "",
            "thousands":      ",",
            "lengthMenu":     "Ver _MENU_ registros",
            "loadingRecords": "Cargando...",
            "processing":     "Procesando...",
            "search":         "Filtrar:",
            "zeroRecords":    "No se encontraron registros coincidentes",
            "paginate": {
                "first":      "Inicio",
                "last":       "Fin",
                "next":       "Siguiente",
                "previous":   "Anterior"
            },
            "aria": {
                "sortAscending":  ": activate to sort column ascending",
                "sortDescending": ": activate to sort column descending"
            }
          }
      } );
    } );
</script>
